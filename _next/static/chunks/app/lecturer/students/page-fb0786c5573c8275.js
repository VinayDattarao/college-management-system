(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{67:function(){},2061:function(){},8163:function(e,r,t){Promise.resolve().then(t.bind(t,4832))},4832:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return c}});var n=t(3827),s=t(4090),a=t(7907),l=t(1399),o=t(4323);let i=[{id:"1",name:"CSE A",code:"CSE-A",students:[]}];function c(){let[e,r]=(0,s.useState)([]),[t,c]=(0,s.useState)(null),[u,d]=(0,s.useState)(null),m=(0,a.useRouter)();return((0,s.useEffect)(()=>{let e=localStorage.getItem("userRole");if(!e){m.push("/");return}d(e);let t=localStorage.getItem("classes");if(t){let e=JSON.parse(t);r(e),e.length>0&&c(e[0])}else r(i),c(i[0]),localStorage.setItem("classes",JSON.stringify(i))},[m]),"lecturer"!==u)?(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Access Denied"}),(0,n.jsx)("p",{children:"Only lecturers can access this page."})]}):(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Student Management"}),(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)("select",{value:(null==t?void 0:t.id)||"",onChange:r=>{let t=r.target.value;c(e.find(e=>e.id===t)||null)},className:"border rounded px-3 py-2 dark:bg-gray-700 dark:border-gray-600",children:e.map(e=>(0,n.jsxs)("option",{value:e.id,children:[e.name," (",e.code,")"]},e.id))})}),t&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsxs)("label",{className:"flex items-center gap-2 bg-blue-500 text-white px-4 py-2 rounded cursor-pointer hover:bg-blue-600",children:[(0,n.jsx)(l.GzT,{}),(0,n.jsx)("span",{children:"Import Excel"}),(0,n.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:n=>{var s;let a=null===(s=n.target.files)||void 0===s?void 0:s[0];if(!a||!t)return;let l=new FileReader;l.onload=n=>{try{var s;let a=new Uint8Array(null===(s=n.target)||void 0===s?void 0:s.result),l=o.ij(a,{type:"array"}),i=l.SheetNames[0],u=l.Sheets[i],d=o.P6.sheet_to_json(u).map(e=>({id:Date.now().toString()+Math.random().toString(36).substr(2,9),name:e.Name||"",rollNumber:e["Roll Number"]||""})),m={...t,students:d},p=e.map(e=>e.id===t.id?m:e);r(p),c(m),localStorage.setItem("classes",JSON.stringify(p))}catch(e){console.error("Error processing file:",e)}},l.readAsArrayBuffer(a)},className:"hidden"})]}),(0,n.jsxs)("button",{onClick:()=>{let e=o.P6.json_to_sheet([{"Roll Number":"",Name:""}]),r=o.P6.book_new();o.P6.book_append_sheet(r,e,"Students"),o.NC(r,"student_template.xlsx")},className:"flex items-center gap-2 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:[(0,n.jsx)(l.aBF,{}),(0,n.jsx)("span",{children:"Download Template"})]})]}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-4 py-2 border-b dark:border-gray-700",children:"Roll Number"}),(0,n.jsx)("th",{className:"px-4 py-2 border-b dark:border-gray-700",children:"Name"})]})}),(0,n.jsx)("tbody",{children:t.students.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"px-4 py-2 border-b dark:border-gray-700",children:e.rollNumber}),(0,n.jsx)("td",{className:"px-4 py-2 border-b dark:border-gray-700",children:e.name})]},e.id))})]})})]})]})}},7907:function(e,r,t){"use strict";var n=t(5313);t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},158:function(e,r,t){"use strict";t.d(r,{w_:function(){return u}});var n=t(4090),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=n.createContext&&n.createContext(s),l=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach(function(r){var n,s;n=r,s=t[r],(n=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function u(e){return r=>n.createElement(d,o({attr:c({},e.attr)},r),function e(r){return r&&r.map((r,t)=>n.createElement(r.tag,c({key:t},r.attr),e(r.child)))}(e.child))}function d(e){var r=r=>{var t,{attr:s,size:a,title:i}=e,u=function(e,r){if(null==e)return{};var t,n,s=function(e,r){if(null==e)return{};var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(r.indexOf(n)>=0)continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(e,l),d=a||r.size||"1em";return r.className&&(t=r.className),e.className&&(t=(t?t+" ":"")+e.className),n.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,u,{className:t,style:c(c({color:e.color||r.color},r.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),i&&n.createElement("title",null,i),e.children)};return void 0!==a?n.createElement(a.Consumer,null,e=>r(e)):r(s)}}},function(e){e.O(0,[699,425,971,69,744],function(){return e(e.s=8163)}),_N_E=e.O()}]);