(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{3147:function(e,s,a){Promise.resolve().then(a.bind(a,2901))},2901:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var t=a(3827),r=a(4090),l=a(7907),c=a(8792),i=a(1399);function d(e){let{userRole:s}=e,[a,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(()=>"lecturer"===s?[{id:1,message:"New student joined CS101",time:"2 mins ago",read:!1},{id:2,message:"Attendance report ready for OS class",time:"1 hour ago",read:!1},{id:3,message:"Class schedule updated",time:"2 hours ago",read:!0}]:[{id:1,message:"New assignment posted in DBMS",time:"5 mins ago",read:!1},{id:2,message:"Your attendance has been marked",time:"1 hour ago",read:!1},{id:3,message:"Grade updated in OS class",time:"3 hours ago",read:!0}]),n=c.filter(e=>!e.read).length,o=e=>{d(c.map(s=>s.id===e?{...s,read:!0}:s))};return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>l(!a),className:"relative p-2 text-gray-600 hover:text-gray-800 dark:text-gray-300 dark:hover:text-white transition-colors",children:[(0,t.jsx)(i.Z3q,{className:"text-xl"}),n>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:n})]}),a&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-lg shadow-lg z-50",children:[(0,t.jsx)("div",{className:"p-4 border-b dark:border-gray-700",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),n>0&&(0,t.jsx)("button",{onClick:()=>{d(c.map(e=>({...e,read:!0})))},className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Mark all as read"})]})}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto",children:c.length>0?(0,t.jsx)("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:c.map(e=>(0,t.jsxs)("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors cursor-pointer ".concat(e.read?"":"bg-blue-50 dark:bg-blue-900/20"),onClick:()=>o(e.id),children:[(0,t.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:e.time})]},e.id))}):(0,t.jsx)("div",{className:"p-4 text-center text-gray-500 dark:text-gray-400",children:"No notifications"})})]})]})}function n(e){let{children:s,userRole:a,onLogout:n}=e;(0,l.useRouter)();let o=(0,l.usePathname)(),m="lecturer"===a,[x,h]=(0,r.useState)(""),[u,g]=(0,r.useState)("");(0,r.useEffect)(()=>{m?h(localStorage.getItem("lecturerName")||"Lecturer"):g(localStorage.getItem("rollNumber")||"")},[m]);let b=m?[{href:"/dashboard",icon:i.NMh,label:"Dashboard"},{href:"/classes",icon:i.Mp$,label:"Manage Classes"},{href:"/students",icon:i.n_Y,label:"Students"},{href:"/attendance",icon:i.XdU,label:"Attendance"},{href:"/timetable",icon:i.XdU,label:"Timetable"},{href:"/grades",icon:i.nGB,label:"Grades"}]:[{href:"/dashboard",icon:i.NMh,label:"Dashboard"},{href:"/profile",icon:i.n_Y,label:"My Profile"},{href:"/classes",icon:i.Mp$,label:"My Classes"},{href:"/attendance",icon:i.XdU,label:"My Attendance"},{href:"/timetable",icon:i.XdU,label:"Timetable"},{href:"/grades",icon:i.nGB,label:"My Grades"}];return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,t.jsxs)("div",{className:"fixed w-64 h-full bg-white dark:bg-gray-800 shadow-lg",children:[(0,t.jsxs)("div",{className:"p-6 border-b dark:border-gray-700",children:[(0,t.jsx)("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Visi Coders"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:m?"Lecturer Portal":"Student Portal"})]}),(0,t.jsx)("nav",{className:"mt-6",children:b.map(e=>(0,t.jsxs)(c.default,{href:e.href,className:"flex items-center px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ".concat(o===e.href?"bg-gray-100 dark:bg-gray-700 text-blue-600 dark:text-blue-400":""),children:[(0,t.jsx)(e.icon,{className:"mr-3"})," ",e.label]},e.href))})]}),(0,t.jsxs)("div",{className:"ml-64",children:[(0,t.jsx)("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:(0,t.jsxs)("div",{className:"flex justify-between items-center px-8 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("span",{className:"text-gray-700 dark:text-gray-300",children:m?x:"Roll No: ".concat(u)}),(0,t.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:m?"Computer Science Department":"Computer Science, Year 2"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsx)(d,{userRole:a}),(0,t.jsx)("button",{onClick:n,className:"text-sm text-red-500 hover:text-red-600 dark:text-red-400 dark:hover:text-red-300",children:"Logout"})]})]})}),(0,t.jsx)("main",{className:"p-8",children:s})]})]})}var o=a(6053),m=a(8855),x=a(7182),h=a(1835),u=a(1067);let g=["from-blue-500 to-indigo-600","from-purple-500 to-pink-600","from-green-500 to-teal-600","from-orange-500 to-red-600","from-pink-500 to-rose-600","from-teal-500 to-cyan-600"],b=[{day:"Saturday",startTime:"11:20",endTime:"12:10",subject:"COI",classCode:"CSE-A",className:"Computer Science",facultyName:"Mr. RJV",periodNumber:3},{day:"Saturday",startTime:"12:10",endTime:"13:00",subject:"OS",classCode:"CSE-A",className:"Computer Science",facultyName:"Mr. Ahmed Pasha",periodNumber:4},{day:"Saturday",startTime:"13:50",endTime:"14:45",subject:"DM",classCode:"CSE-A",className:"Computer Science",facultyName:"Mrs. Sirisha",periodNumber:5},{day:"Saturday",startTime:"14:45",endTime:"15:40",subject:"Sports",classCode:"CSE-A",className:"Computer Science",facultyName:"Physical Director",periodNumber:6}],N=e=>{let[s,a]=e.split(":").map(Number);return"".concat(s>12?s-12:0===s?12:s,":").concat(a.toString().padStart(2,"0")," ").concat(s>=12?"PM":"AM")},p=e=>new Date(e.toLocaleString("en-US",{timeZone:"Asia/Kolkata"}));function j(e){let{isDarkMode:s}=e,[a,l]=(0,r.useState)([]),[c,d]=(0,r.useState)(new Date);return((0,r.useEffect)(()=>{let e=setInterval(()=>{d(new Date)},6e4);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{let e=()=>{let e=new Date(p(new Date));for(;6!==e.getDay();)e.setDate(e.getDate()+1);let s=[];b.forEach((a,t)=>{let[r,l]=a.startTime.split(":").map(Number),i=new Date(e);i.setHours(r,l,0);let d=p(i),n=p(c),b=(0,o.A)(d,n),j=(0,m.X)(d,n)%60;"lunch"!==a.subject.toLowerCase()&&s.push({...a,timeToGo:"".concat(b,"h ").concat(j,"m to go"),hoursToGo:b,minutesToGo:j,isToday:(0,x._)(d,{start:(0,h.b)(n),end:(0,u.i)(n)}),colorIndex:t%g.length,displayTime:"".concat(N(a.startTime)," - ").concat(N(a.endTime)," IST")})}),l(s)};e();let s=setInterval(e,6e4);return()=>clearInterval(s)},[c]),0===a.length)?(0,t.jsxs)("div",{className:"p-6 rounded-lg shadow-lg ".concat(s?"bg-gray-800":"bg-white"),children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,t.jsx)(i.IiJ,{className:"mr-2"}),"Upcoming Classes"]}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No upcoming classes scheduled"})]}):(0,t.jsxs)("div",{className:"p-6 rounded-lg shadow-lg ".concat(s?"bg-gray-800":"bg-white"),children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold mb-6 flex items-center",children:[(0,t.jsx)(i.IiJ,{className:"mr-2"}),"Upcoming Classes"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map((e,a)=>(0,t.jsx)("div",{className:"p-4 rounded-lg bg-gradient-to-br ".concat(g[e.colorIndex]," \n              shadow-lg transform transition-all duration-300 hover:scale-105\n              ").concat(s?"opacity-90":"opacity-100"),children:(0,t.jsxs)("div",{className:"text-white",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:e.subject}),(0,t.jsxs)("p",{className:"text-sm opacity-90",children:[(0,t.jsx)(i.nGB,{className:"inline mr-1"}),e.className," (",e.classCode,")"]}),(0,t.jsxs)("p",{className:"text-sm opacity-90 mt-1 font-medium",children:["Faculty: ",e.facultyName]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat(e.hoursToGo<=1?"bg-red-100 text-red-800":e.isToday?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"," font-medium block mb-2"),children:e.timeToGo}),(0,t.jsxs)("span",{className:"text-xs bg-white/20 px-2 py-1 rounded",children:["Period ",e.periodNumber]})]})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm opacity-90",children:[(0,t.jsx)(i.qyc,{className:"mr-1"}),(0,t.jsx)("span",{children:e.displayTime})]})]})},"".concat(e.className,"-").concat(e.startTime,"-").concat(a)))})]})}function f(){let e=(0,l.useRouter)(),s=localStorage.getItem("userRole");if((0,r.useEffect)(()=>{s||e.push("/")},[s,e]),!s)return null;let a="lecturer"===s,c=a?[{label:"Total Students",value:"150",icon:i.n_Y},{label:"Active Classes",value:"4",icon:i.NMh},{label:"Attendance Rate",value:"92%",icon:i.XdU}]:[{label:"Enrolled Classes",value:"5",icon:i.NMh},{label:"Attendance Rate",value:"95%",icon:i.XdU},{label:"Average Grade",value:"A-",icon:i.NMh}];return(0,t.jsx)(n,{userRole:s,onLogout:()=>{localStorage.removeItem("userRole"),e.push("/")},children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(j,{isDarkMode:!1}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:c.map((e,s)=>(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:e.label}),(0,t.jsx)("p",{className:"text-2xl font-semibold mt-1",children:e.value})]}),(0,t.jsx)(e.icon,{className:"text-2xl text-blue-500"})]})},s))}),a?(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between py-2 border-b",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"CS101 Attendance Updated"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"2 hours ago"})]})}),(0,t.jsx)("div",{className:"flex items-center justify-between py-2 border-b",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"New Grade Posted - CS202"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"5 hours ago"})]})})]})]}):(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Upcoming Classes"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between py-2 border-b",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"CS101 - Introduction to Programming"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Today, 10:00 AM"})]})}),(0,t.jsx)("div",{className:"flex items-center justify-between py-2 border-b",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"MATH201 - Linear Algebra"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Today, 2:00 PM"})]})})]})]})]})})}}},function(e){e.O(0,[699,901,74,971,69,744],function(){return e(e.s=3147)}),_N_E=e.O()}]);